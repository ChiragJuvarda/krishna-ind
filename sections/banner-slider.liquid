{% comment %} Banner Slider section - created from user-provided HTML. CSS/JS will be loaded from assets/banner-slider.css and assets/banner-slider.js {% endcomment %}

<section id="banner-slider" class="banner-slider-section">
  <link rel="stylesheet" href="{{ 'banner-slider.css' | asset_url }}" />
  <div class="banner-slider-wrapper">
    <div class="indicator"></div>

    <nav>
      <!-- keep existing nav markup for now -->
      <div>
        <div class="svg-container"> ... </div>
      </div>
    </nav>

    <div id="demo"></div>

    {% if section.blocks.size > 0 %}
      <div class="slides">
        {% for block in section.blocks %}
          <div class="slide" data-index="{{ forloop.index0 }}">
            {% if block.settings.slide_image != blank %}
              <div class="slide-image" style="background-image: url('{{ block.settings.slide_image | image_url }}')"></div>
            {% endif %}

            <div class="details {% if forloop.index0 | modulo: 2 == 0 %}details-even{% else %}details-odd{% endif %}">
              <div class="place-box"><div class="text">{{ block.settings.place_name }}</div></div>
              <div class="title-box-1"><div class="title-1">{{ block.settings.title_line_1 }}</div></div>
              <div class="title-box-2"><div class="title-2">{{ block.settings.title_line_2 }}</div></div>
              <div class="desc">{{ block.settings.description }}</div>
              <div class="cta">
                <a href="{{ block.settings.button_link }}" class="discover">{{ section.settings.cta_button_text | default: 'Discover Location' }}</a>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <!-- fallback static content so editor shows something -->
      <div class="details" id="details-even">
        <div class="place-box"><div class="text">Switzerland Alps</div></div>
        <div class="title-box-1"><div class="title-1">SAINT</div></div>
        <div class="title-box-2"><div class="title-2">ANTONIEN</div></div>
        <div class="desc">Tucked away in the Switzerland Alps, Saint Antönien offers an idyllic retreat for those seeking tranquility and adventure alike.</div>
        <div class="cta">
          <button class="discover">Discover Location</button>
        </div>
      </div>
    {% endif %}

    <div class="pagination" id="pagination">
      <div class="arrow arrow-left">...</div>
      <div class="arrow arrow-right">...</div>
      <div class="progress-sub-container"><div class="progress-sub-background"><div class="progress-sub-foreground"></div></div></div>
      <div class="slide-numbers" id="slide-numbers"></div>
    </div>

    <div class="cover"></div>
  </div>
  <script src="{{ 'banner-slider.js' | asset_url }}" defer></script>

{% schema %}
{
  "name": "Banner Slider",
  "settings": [
    {
      "type": "text",
      "id": "slider_title",
      "label": "Slider Title",
      "default": "Explore Destinations"
    },
    {
      "type": "richtext",
      "id": "slider_subtitle",
      "label": "Slider Subtitle"
    },
    {
      "type": "range",
      "id": "slide_duration",
      "label": "Auto-slide Duration (seconds)",
      "min": 2,
      "max": 10,
      "step": 1,
      "default": 5
    },
    {
      "type": "checkbox",
      "id": "enable_autoplay",
      "label": "Enable Auto-play",
      "default": true
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color"
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Button Color"
    },
    {
      "type": "text",
      "id": "cta_button_text",
      "label": "CTA Button Text",
      "default": "Discover Location"
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "text",
          "id": "place_name",
          "label": "Place Name",
          "default": "Destination"
        },
        {
          "type": "text",
          "id": "title_line_1",
          "label": "Title - Line 1",
          "default": "TITLE"
        },
        {
          "type": "text",
          "id": "title_line_2",
          "label": "Title - Line 2",
          "default": "LINE"
        },
        {
          "type": "richtext",
          "id": "description",
          "label": "Description"
        },
        {
          "type": "image_picker",
          "id": "slide_image",
          "label": "Slide Image"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Banner Slider",
      "blocks": [
        {
          "type": "slide",
          "settings": {
            "place_name": "Switzerland Alps",
            "title_line_1": "SAINT",
            "title_line_2": "ANTONIEN",
            "description": "Tucked away in the Switzerland Alps, Saint Antönien offers an idyllic retreat for those seeking tranquility and adventure alike."
          }
        }
      ]
    }
  ]
}
{% endschema %}
