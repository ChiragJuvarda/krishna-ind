{% comment %}
  Grinding Capacity Section - Modern Unique Design
  Product specifications showcase for Krishna Industries
{% endcomment %}

{{ 'grinding-capacity.css' | asset_url | stylesheet_tag }}

{%- style -%}
  .grinding-capacity-{{ section.id }} {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
    background: {{ section.settings.background_color }};
  }

  @media screen and (min-width: 750px) {
    .grinding-capacity-{{ section.id }} {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }

  .grinding-capacity-{{ section.id }} .section-heading {
    color: {{ section.settings.heading_color }};
  }

  .grinding-capacity-{{ section.id }} .section-heading .highlight {
    color: {{ section.settings.highlight_color }};
  }

  .grinding-capacity-{{ section.id }} .capacity-card {
    background: {{ section.settings.card_background }};
    border-color: {{ section.settings.card_border_color }};
  }

  .grinding-capacity-{{ section.id }} .capacity-card__title {
    color: {{ section.settings.title_color }};
  }

  .grinding-capacity-{{ section.id }} .capacity-card__value {
    color: {{ section.settings.value_color }};
  }

  .grinding-capacity-{{ section.id }} .capacity-card__badge {
    background: {{ section.settings.badge_background }};
    color: {{ section.settings.badge_text_color }};
  }
{%- endstyle -%}

<div class="grinding-capacity grinding-capacity-{{ section.id }}">
  <div class="page-width">
    
    {%- comment -%} Section Header {%- endcomment -%}
    {%- if section.settings.heading != blank -%}
      <div class="section-header text-{{ section.settings.text_alignment }}">
        <h2 class="section-heading">
          {%- assign heading_parts = section.settings.heading | split: section.settings.highlight_text -%}
          {%- if heading_parts.size > 1 and section.settings.highlight_text != blank -%}
            {{ heading_parts[0] }}<span class="highlight">{{ section.settings.highlight_text }}</span>{{ heading_parts[1] }}
          {%- else -%}
            {{ section.settings.heading }}
          {%- endif -%}
        </h2>
        
        {%- if section.settings.subheading != blank -%}
          <p class="section-subheading">{{ section.settings.subheading }}</p>
        {%- endif -%}
      </div>
    {%- endif -%}

    {%- comment -%} Capacity Cards Grid {%- endcomment -%}
    {%- if section.blocks.size > 0 -%}
      <div class="capacity-grid columns-{{ section.settings.columns_desktop }} columns-mobile-{{ section.settings.columns_mobile }}">
        {%- for block in section.blocks -%}
          <div class="capacity-card card-style-{{ section.settings.card_style }}" 
               data-index="{{ forloop.index }}"
               {{ block.shopify_attributes }}>
            
            {%- comment -%} Card Image {%- endcomment -%}
            <div class="capacity-card__image-wrapper">
              {%- if block.settings.image != blank -%}
                <div class="capacity-card__image">
                  {{- block.settings.image | image_url: width: 300 | image_tag: 
                      loading: 'lazy',
                      width: block.settings.image.width,
                      height: block.settings.image.height,
                      alt: block.settings.title | escape
                  -}}
                </div>
              {%- else -%}
                <div class="capacity-card__image capacity-card__placeholder">
                  <svg width="100" height="100" viewBox="0 0 100 100" fill="none">
                    <circle cx="50" cy="50" r="48" stroke="currentColor" stroke-width="2" opacity="0.3"/>
                    <path d="M50 20v60M20 50h60" stroke="currentColor" stroke-width="2" opacity="0.3"/>
                  </svg>
                </div>
              {%- endif -%}

              {%- if block.settings.show_badge and block.settings.badge_text != blank -%}
                <span class="capacity-card__badge">{{ block.settings.badge_text }}</span>
              {%- endif -%}
            </div>

            {%- comment -%} Card Content {%- endcomment -%}
            <div class="capacity-card__content">
              {%- if block.settings.title != blank -%}
                <h3 class="capacity-card__title">{{ block.settings.title }}</h3>
              {%- endif -%}

              {%- if block.settings.capacity != blank -%}
                <div class="capacity-card__value">
                  <span class="capacity-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M20 7h-9m9 4h-9m9 4h-9m9 4h-9M6 21V3l6 6"/>
                    </svg>
                  </span>
                  {{ block.settings.capacity }}
                </div>
              {%- endif -%}

              {%- if block.settings.description != blank -%}
                <p class="capacity-card__description">{{ block.settings.description }}</p>
              {%- endif -%}
            </div>

            {%- comment -%} Hover Effect Overlay {%- endcomment -%}
            <div class="capacity-card__overlay"></div>
          </div>
        {%- endfor -%}
      </div>
    {%- endif -%}

  </div>
</div>

{% schema %}
{
  "name": "Grinding Capacity",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Section Heading"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Grinding Capacity"
    },
    {
      "type": "text",
      "id": "highlight_text",
      "label": "Text to highlight",
      "default": "Capacity",
      "info": "This text will be highlighted in different color"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "High-performance grinding for various products"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text alignment",
      "options": [
        {"value": "left", "label": "Left"},
        {"value": "center", "label": "Center"},
        {"value": "right", "label": "Right"}
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "columns_desktop",
      "label": "Columns on desktop",
      "min": 2,
      "max": 6,
      "step": 1,
      "default": 6
    },
    {
      "type": "select",
      "id": "columns_mobile",
      "label": "Columns on mobile",
      "options": [
        {"value": "2", "label": "2 columns"},
        {"value": "3", "label": "3 columns"}
      ],
      "default": "2"
    },
    {
      "type": "select",
      "id": "card_style",
      "label": "Card style",
      "options": [
        {"value": "modern", "label": "Modern - Gradient border"},
        {"value": "elegant", "label": "Elegant - Shadow"},
        {"value": "minimal", "label": "Minimal - Clean"},
        {"value": "bold", "label": "Bold - Thick border"}
      ],
      "default": "modern"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "highlight_color",
      "label": "Highlight color",
      "default": "#dc2626"
    },
    {
      "type": "color",
      "id": "card_background",
      "label": "Card background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "card_border_color",
      "label": "Card border color",
      "default": "#e5e5e5"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Product title color",
      "default": "#dc2626"
    },
    {
      "type": "color",
      "id": "value_color",
      "label": "Capacity value color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "badge_background",
      "label": "Badge background",
      "default": "#22c55e"
    },
    {
      "type": "color",
      "id": "badge_text_color",
      "label": "Badge text color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 60
    }
  ],
  "blocks": [
    {
      "type": "capacity_item",
      "name": "Capacity Item",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Product image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Product name",
          "default": "Wheat"
        },
        {
          "type": "text",
          "id": "capacity",
          "label": "Grinding capacity",
          "default": "6.5 to 8.5 kg/hr",
          "info": "Example: 6.5 to 8.5 kg/hr"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description (optional)"
        },
        {
          "type": "checkbox",
          "id": "show_badge",
          "label": "Show badge",
          "default": false
        },
        {
          "type": "text",
          "id": "badge_text",
          "label": "Badge text",
          "default": "Popular"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Grinding Capacity",
      "blocks": [
        {
          "type": "capacity_item",
          "settings": {
            "title": "Wheat",
            "capacity": "6.5 to 8.5 kg/hr"
          }
        },
        {
          "type": "capacity_item",
          "settings": {
            "title": "Besan",
            "capacity": "18 kg/hr"
          }
        },
        {
          "type": "capacity_item",
          "settings": {
            "title": "Rice",
            "capacity": "5 to 7 kg/hr"
          }
        },
        {
          "type": "capacity_item",
          "settings": {
            "title": "Bajari",
            "capacity": "4 to 6 kg/hr"
          }
        },
        {
          "type": "capacity_item",
          "settings": {
            "title": "Maize",
            "capacity": "4 to 6 kg/hr"
          }
        },
        {
          "type": "capacity_item",
          "settings": {
            "title": "Jowar",
            "capacity": "4 to 6 kg/hr"
          }
        }
      ]
    }
  ]
}
{% endschema %}
